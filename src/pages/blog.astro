---
import BaseLayout from "../layouts/BaseLayout.astro"
import Header from "../components/Header.astro"
import LanguageList from "../components/LanguageList.astro"

const posts = await Astro.glob("./blog/*.md")
---

<BaseLayout title="Blog â€¢ Bruno Panizzi">
  <Header
    title="Blog"
    description="Um pouco sobre meus projetos e coisas que acho interessante"
  />

  <div class="grid gap-x-4 gap-y-8 sm:grid-cols-2">
    {
      posts.map((post) => (
        <article class="grid gap-y-2 overflow-hidden rounded-md transition-all first-of-type:grid-cols-subgrid hover:bg-zinc-800 hover:shadow-[0_0_0_0.5rem] hover:shadow-zinc-800 sm:first-of-type:col-span-2">
          <div class="relative h-full min-h-36 w-full overflow-hidden rounded-sm">
            <img
              class="absolute inset-0"
              src={post.frontmatter.coverImg}
              alt={post.frontmatter.title}
            />
          </div>
          <div>
            <header class="flex items-center justify-between gap-2">
              <h3 class="text-xl font-semibold">
                <a href={post.url}>{post.frontmatter.title}</a>
              </h3>
              <p class="text-pretty text-sm text-zinc-300">
                {new Date(post.frontmatter.publishDate).toLocaleDateString()}
              </p>
            </header>
            <div class="my-1">
              <LanguageList langs={post.frontmatter.tags} />
            </div>
            <p class="text-pretty text-zinc-300">
              {post.frontmatter.description}
            </p>
          </div>
        </article>
      ))
    }
  </div>
</BaseLayout>
